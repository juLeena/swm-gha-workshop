name: 'SWM GitHub Actions Basic'

on: push

env:
  WORKFLOW_LEVEL: "This value comes from the WORKFLOW level"

jobs:
  first-job:
    name: 'First Job'

    runs-on: ubuntu-latest

    env:
      JOB_LEVEL: "This value comes from the JOB level"

    steps:
    - name: Say Hello World
      shell: bash
      run: |
        echo "Hello World"

    - name: Check environment variables 1
      shell: bash
      env:
        STEP_LEVEL_1: "This value comes from the STEP level 1"
      run: |
        echo "workflow level: $WORKFLOW_LEVEL"
        echo "job level: $JOB_LEVEL"
        echo "step level 1: $STEP_LEVEL_1"
        echo "step level 2: $STEP_LEVEL_2"
        echo "step level 3: $STEP_LEVEL_3"

    - name: Set environment variable
      shell: bash

      run: |
        swmValue=$(echo "hello SWM")
        
        echo "SWM_VALUE=$swmValue" >> $GITHUB_ENV
    
    - name: Get environment variable
      shell: bash

      run: |
        echo "SWM_VALUE 1: ${{env.SWM_VALUE}}"
        echo "SWM_VALUE 2: $SWM_VALUE" #bash 문법
        echo "SWM_VALUE 3: $env:SWM_VALUE" #pwsh 문법

    - name: Get environment variable
      shell: pwsh

      run: |
        echo "SWM_VALUE 1: ${{env.SWM_VALUE}}"
        echo "SWM_VALUE 2: $SWM_VALUE"
        echo "SWM_VALUE 3: $env:SWM_VALUE"